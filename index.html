<!DOCTYPE html>
<html>

<head>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="apple-touch-icon" href="launch.png">
  <link rel="apple-touch-startup-image" href="launch.png">
  <meta name="apple-mobile-web-app-title" content="Push To Telescope">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <style>
    body {
      background-color: black;
      color: red;
      font-family: verdana;
      font-size: 120%;
    }

    button {
      background-color: black;
      color: red;
      font-family: verdana;
      font-size: 3vw;
      border: 1px solid red;
      padding: 2% 2%;
      text-align: left;
    }

    .group7 {
      width: 12.5%;
    }

    .group8 {
      width: 10.5%;
    }

    .pressed {
      background-color: #880000;
    }
    }
  </style>


</head>

<body>
  <h2 id="topic"></h2>
  <div id="maori">Maori</div>
  <div id="english">English</div>
  <div id="buttons"></div>
  <script>
    $ = (id) => document.getElementById(id)
    shuffle = (a, b) => Math.random() - 0.5
    sentences = []
    indexSentences = 0
    sentence = (topic, maori, english) => sentences.push({
      topic,
      maori,
      english
    })
    feelings = []
    feeling = (maori, english) => feelings.push({
      maori,
      english
    })
    names = []
    named = (maori, english) => names.push({
      maori,
      english
    })
    named("Mere", "Mere")
    named("Pita", "Pita")
    named("Sue", "Sue")
    feeling("hari", "happy")
    feeling("hōhā", "bored")
    feeling("māuiui", "sick")
    feeling("pukuriri", "angry")
    feeling("hiamoe", "sleepy")
    feeling("ohorere", "surprised")
    feeling("harikoa", "overjoyed")
    feeling("rangirua", "confused")
    feeling("wera", "hot")
    feeling("makariri", "cold")
    sentence("aotearoa", "Ko wai tōu ingoa?", "What is your name?")
    sentence("aotearoa", "Ko [my name] tōku ingoa", "My name is [my name] ")
    sentence("aotearoa", "Ko wai tōna ingoa", "What is their name")
    sentence("aotearoa", "Nō hea koe?", "Where do you come from?")
    sentence("aotearoa", "Nō Oranga ahau", "I come from Oranga")
    sentence("aotearoa", "Kei te pēhea koe?", "How are you?")
    sentence("aotearoa", "Kei te [feeling] ahau", "I am [feeling]")
    sentence("aotearoa", "E pēhea ana koe?", "How are you?")
    sentence("aotearoa", "E [feeling] ana ahau", "I am [feeling]")
    sentence("aotearoa", "Ki te taha o tōku matua", "On my Dad's side")
    sentence("aotearoa", "Ko [name] tōku koro", "My grandfather is [name]")
    sentence("aotearoa", "Ko wai ō tuakāna?", "Who are your older siblings of same gender?")
    sentence("aotearoa", "Ko wai hoa rangitira?", "Who is your spouse?")
    sentence("aotearoa", "Ko [name] rāua ko [name] ōku tuakāna?", "[Name] and [name] are my older siblings of same gender?")
    sentence("aotearoa", "Kaore ōku teina", "I have no younger siblings of same gender?")
    sentence("aotearoa", "Kotahi tōku teina", "I have one younger siblings of same gender?")
    sentence("whakapapa", "Tokohia āu tamariki", "How many children do you have?")
    sentence("whakapapa", "Tokowhitu āku tamariki Tokohia", "I have 7 children")
    sentence("whakapapa", "Tokohia ngā tamariki o Kuini?", "How many children does the queen have?")
    sentence("whakapapa", "Tokohia āu tuakana", "How many older siblings of your gender do you have")

    showMaoriWords = (v) => v.maori.split(" ")
    makeWordButtons = () => {

      maoriWords = []
      maoriWords = ([...maoriWords, ...sentences.map(showMaoriWords)]) //
      m = []
      maoriWords.forEach(v => m = [...m, ...v])
      m = [...new Set(m)]
      wordsCurrent = sentences[indexSentences].maori.split(" ")
      numberWordsCurrent = wordsCurrent.length
      m = m.filter(v => !wordsCurrent.includes(v)).sort(shuffle).slice(0, 8 - numberWordsCurrent)
      m = [...m, ...wordsCurrent].map(v => v.toLowerCase()).sort()
      m.forEach(v => $("buttons").appendChild(document.createElement("button")).innerHTML = v.replace("?", ""))

    }
    selectMaoriSentence = () => {
      makeWordButtons()
      $("maori").innerHTML = sentences[indexSentences].maori
      indexSentences++
    }
    englishClickAction = () => {
      $("english").innerHTML = sentences[indexSentences].english
      console.log($("maori").innerHTML + "   " + sentences[indexSentences].maori)
      if (!$("maori").innerHTML == sentences[indexSentences].maori) $("maori").innerHTML = ""
      indexSentences++
      makeWordButtons()
    }

    $("maori").addEventListener("click", selectMaoriSentence)
    $("english").addEventListener("click", englishClickAction)
  </script>
</body>

</html>
